<div class="dashboard-container">
  <!-- Header Section -->
  <div class="dashboard-header">
    <div>
      <h1 class="dashboard-title">Bienvenido</h1>
      <p class="dashboard-subtitle">{{ model.nombreEmpleado }}</p>
    </div>
    <div class="header-time">
      <span class="time-label">Hora actual</span>
      <span class="time-value">{{ getCurrentTime() }}</span>
    </div>
  </div>

  <!-- Main Grid -->
  <div class="dashboard-grid">
    <!-- Large Fichar Card -->
    <div class="card card-fichar">
      <div class="card-body fichar-body">
        <div class="fichar-content">
          <i class="bi bi-clock-history fichar-icon"></i>
          <h2 class="fichar-title">Fichar</h2>
          <p class="fichar-subtitle">Registra tu entrada o salida</p>
          <button
            class="btn btn-fichar btn-lg mt-4"
            (click)="fichar()"
            [disabled]="isLoading">
            <span *ngIf="!isLoading">
              <i class="bi bi-check-lg me-2"></i>Fichar
            </span>
            <span *ngIf="isLoading">
              <span class="spinner-border spinner-border-sm me-2"></span>Registrando...
            </span>
          </button>
        </div>
      </div>
    </div>

    <!-- Status Card -->
    <div class="card card-status">
      <div class="card-header">
        <h5 class="card-title">Estado Actual</h5>
      </div>
      <div class="card-body">
        <div class="status-item">
          <span class="status-label">Último Fichaje</span>
          <span class="status-value">{{ model.ultimoFichaje || 'Sin registros' }}</span>
        </div>
        <div class="status-divider"></div>
        <div class="status-item">
          <span class="status-label">Estado</span>
          <div class="status-badge" [ngClass]="{ 'working': model.working, 'off-duty': !model.working }">
            <i class="bi" [ngClass]="model.working ? 'bi-check-circle-fill' : 'bi-x-circle-fill'"></i>
            {{ model.working ? 'En el trabajo' : 'Fuera del trabajo' }}
          </div>
        </div>
      </div>
    </div>

    <!-- Stats Grid -->
    <div class="card card-stat">
      <div class="card-header">
        <h5 class="card-title">Vacaciones</h5>
      </div>
      <div class="card-body">
        <div class="stat-number">{{ model.diasVacaciones }}</div>
        <div class="stat-label">Días disponibles</div>
        <div class="progress mt-3" style="height: 4px;">
          <div class="progress-bar" [style.width.%]="(model.diasVacaciones || 0) / 30 * 100" style="background: linear-gradient(90deg, #0ea5e9, #22c55e);"></div>
        </div>
      </div>
    </div>

    <div class="card card-stat">
      <div class="card-header">
        <h5 class="card-title">Horas Generadas</h5>
      </div>
      <div class="card-body">
        <div class="stat-number">{{ model.horasGeneradas | number:'1.1-1' }}</div>
        <div class="stat-label">Horas acumuladas</div>
      </div>
    </div>

    <!-- Employee Info Card -->
    <div class="card card-info">
      <div class="card-header">
        <h5 class="card-title">Información Personal</h5>
      </div>
      <div class="card-body">
        <div class="info-item">
          <span class="info-label">Número de Empleado</span>
          <span class="info-value">{{ model.numero }}</span>
        </div>
        <div class="info-item">
          <span class="info-label">Correo Electrónico</span>
          <span class="info-value">{{ model.email }}</span>
        </div>
      </div>
    </div>
  </div>
</div>
